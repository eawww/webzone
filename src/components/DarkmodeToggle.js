import React, {useState} from 'react';
import './DarkmodeToggle.scss';
import { ATTRIBUTE_NAMES } from 'react-helmet/lib/HelmetConstants';

const DISPLAY_ATTRIBUTES = {
  sunColor: {LIGHT: "#fffdf0", DARK: "#fff"},
  coronaColor: {LIGHT: `#fceb7e`, DARK: `#FFFFFF`},
  moonTransform: {LIGHT: "scale(1.07 1.07) translate(-5.1 -4.05)", DARK: "scale(1.05 1.05) translate(32.8 -3)"},
  moonUmbraTransform: {LIGHT: "scale(0.9 0.9) translate(1 2.3)", DARK: "scale(1, 1)"},
}

const DarkmodeToggle = ({darkmodeCallback}) => {
  const [darkMode, setDarkmode] = useState(true);
  const theme = darkMode ? `DARK` : `LIGHT`;
  console.log(theme)
  
  const handleChange = (event) => {
    setDarkmode((prevMode) => {
      if(typeof darkmodeCallback === 'function') darkmodeCallback(!prevMode)
      return !prevMode;
    });
  }

  return (
    <label className="darkmodeToggle" onChange={handleChange}>
      <input type="checkbox" className="darkmodeCheckbox"/>
      <svg
        className="darkmodeCheckboxSVG"
        // height="100%"
        width="100%"
        viewBox="0 0 100 50">
        <defs>
          <radialGradient id="sunGlowLight">
            <stop
              offset="0%"
              stopColor={DISPLAY_ATTRIBUTES.coronaColor.LIGHT}
            />
            <stop
              offset="30%"
              stopColor={DISPLAY_ATTRIBUTES.coronaColor.LIGHT}
            />
            <stop
              offset="75%"
              stopColor={`${DISPLAY_ATTRIBUTES.coronaColor.LIGHT}00`}
            />
          </radialGradient>
       
          <radialGradient id="sunGlowDark">
            <stop
              offset="0%"
              stopColor={DISPLAY_ATTRIBUTES.coronaColor.DARK}
            />
            <stop
              offset="30%"
              stopColor={DISPLAY_ATTRIBUTES.coronaColor.DARK}
            />
            <stop
              offset="75%"
              stopColor={`${DISPLAY_ATTRIBUTES.coronaColor.DARK}00`}
            />
          </radialGradient>
        </defs>

        <g id="sun">
          <circle
            id="sunOuter"
            className="transitionOpacity"
            fill={'url(#sunGlowLight'}
            opacity={darkMode ? 0 : 1}
            cx={60}
            cy={20}
            r={32}
          />
          <circle
            id="sunOuter"
            className="transitionOpacity"
            fill={'url(#sunGlowDark'}
            opacity={darkMode ? 1 : 0}
            cx={60}
            cy={20}
            r={32}
          />
          <circle
            id="sunInner"
            fill={DISPLAY_ATTRIBUTES.sunColor[theme]}
            cx={60}
            cy={20}
            r={16}
          />
      </g>
        <g id="toggleswitch">
            <g
              id="border"
              transform="matrix(1.69026,0,0,1.76604,-29.6961,-15.4525)"
            >
              <path
                d="M63.552,20.006C63.552,14.274 58.69,9.621 52.701,9.621L29.446,9.621C23.457,9.621 18.595,14.274 18.595,20.006C18.595,25.738 23.457,30.391 29.446,30.391L52.701,30.391C58.69,30.391 63.552,25.738 63.552,20.006Z"
                style={{
                  fill: "none",
                  stroke: "rgb(235,235,255)",
                  strokeWidth: '1.16px',
                  opacity: "0.4"
                }}
              />
            </g>
            <g id="moon" className="transitionTransform" transform={DISPLAY_ATTRIBUTES.moonTransform[theme]}>
                <circle
                  cx="24.275"
                  cy="22.111"
                  r="14.698"
                  style={{fill: 'rgb(255,247,184)'}}
                />
                <clipPath id="_clip2">
                    <ellipse
                      cx="24.275"
                      cy="22.111"
                      rx="14.698"
                      ry="14.836"
                    />
                </clipPath>
                <g clip-path="url(#_clip2)">
                  <g className="transitionTransform" transform={DISPLAY_ATTRIBUTES.moonUmbraTransform[theme]}>
                    <ellipse
                      cx="24.275"
                      cy="22.111"
                      rx="14.698"
                      ry="14.836"
                      style={{fillOpacity: 0.84}}
                    />
                  </g>
                    <g transform="matrix(0.9073,0,0,0.914806,4.98901,3.91829)">
                      <path
                        d="M21.674,12.249C21.688,11.91 22.26,11.852 22.414,11.55C22.612,11.162 22.426,10.14 22.861,9.925C23.297,9.71 24.811,10.435 25.027,10.259C25.243,10.084 23.911,9.131 24.158,8.872C24.405,8.613 25.819,8.479 26.51,8.706C27.201,8.933 28.321,9.894 28.305,10.235C28.289,10.577 26.444,10.254 26.414,10.754C26.384,11.255 27.859,12.661 28.126,13.239C28.264,13.538 27.702,14.115 28.014,14.22C28.39,14.347 29.763,13.723 30.382,14.001C31.001,14.279 31.309,15.533 31.73,15.89C32.036,16.15 32.566,15.932 32.907,16.144C33.417,16.461 34.39,17.578 34.792,17.792C34.981,17.892 35.189,17.256 35.32,17.425C35.543,17.711 36.138,19.071 36.126,19.507C36.117,19.849 35.359,19.716 35.251,20.041C35.135,20.387 35.521,21.075 35.432,21.586C35.31,22.284 34.915,23.835 34.517,24.23C34.164,24.581 33.193,24.302 33.049,23.953C32.905,23.603 33.809,22.752 33.654,22.131C33.482,21.439 32.181,20.535 32.016,19.8C31.857,19.091 32.623,18.245 32.663,17.72C32.693,17.339 32.462,16.459 32.257,16.65C32.053,16.84 31.803,18.526 31.436,18.862C31.093,19.176 30.325,18.288 30.054,18.666C29.777,19.054 29.674,20.64 29.773,21.188C29.841,21.568 30.3,21.777 30.646,21.952C31.03,22.146 31.917,21.917 32.077,22.351C32.238,22.785 32.01,24.285 31.607,24.555C31.204,24.824 29.983,24.359 29.66,23.966C29.338,23.574 29.955,22.716 29.674,22.198C29.379,21.652 28.163,21.133 27.888,20.692C27.686,20.368 28.3,19.757 28.027,19.554C27.755,19.351 26.651,19.912 26.253,19.474C25.811,18.986 25.284,17.364 25.374,16.628C25.459,15.928 26.927,15.313 26.789,15.057C26.651,14.8 25.266,15.282 24.544,15.087C23.799,14.887 22.797,14.326 22.318,13.853C21.909,13.448 21.658,12.633 21.674,12.249Z"
                        style={{fillOpacity:0.3}}
                      />
                    </g>
                    <g transform="matrix(0.9073,0,0,0.914806,4.98901,3.91829)">
                      <path
                        d="M33.213,11.893C31.874,12.17 32.257,13.472 32.683,14.118C33.01,14.614 33.643,15.455 34.401,15.257C34.85,15.14 35.102,13.857 34.813,12.927C34.637,12.359 33.612,11.81 33.213,11.893Z"
                        style={{fillOpacity:0.29}}
                      />
                    </g>
                    <g transform="matrix(0.9073,0,0,0.914806,4.98901,3.91829)">
                      <path
                        d="M20.486,6.654C20.03,6.854 18.678,6.795 17.791,6.972C16.781,7.173 15.484,7.414 14.424,7.862C13.365,8.31 11.975,8.954 11.434,9.66C10.936,10.31 10.891,12.117 11.175,12.103C11.459,12.089 12.488,10.062 13.138,9.577C13.666,9.183 14.455,9.41 15.076,9.191C15.764,8.947 16.454,8.079 17.267,8.116C18.143,8.156 19.625,8.989 20.336,9.429C20.842,9.743 21.394,10.376 21.53,10.76C21.647,11.087 21.455,11.611 21.156,11.732C20.857,11.853 20.143,11.233 19.737,11.488C19.259,11.788 18.235,13.017 18.287,13.531C18.34,14.046 19.951,14.084 20.051,14.574C20.151,15.064 18.909,16.072 18.885,16.471C18.862,16.85 19.557,17.117 19.907,16.971C20.352,16.785 20.941,15.375 21.556,15.356C22.171,15.337 23.426,16.437 23.597,16.858C23.767,17.279 23.051,17.792 22.578,17.881C22.021,17.987 20.71,17.345 20.257,17.491C19.836,17.626 19.586,18.41 19.856,18.755C20.125,19.1 21.652,19.156 21.873,19.56C22.094,19.963 21.599,20.933 21.183,21.175C20.768,21.418 19.638,20.499 19.378,21.018C19.118,21.536 19.372,23.804 19.622,24.284C19.825,24.673 20.733,23.486 20.879,23.899C21.112,24.561 21.542,27.393 21.02,28.258C20.499,29.122 18.469,28.709 17.749,29.085C17.226,29.357 17.291,30.497 16.701,30.51C15.788,30.53 13.11,29.839 12.271,29.204C11.587,28.687 11.539,27.176 11.67,26.704C11.796,26.247 13.048,26.712 13.054,26.377C13.06,26.042 12.219,24.764 11.707,24.694C11.195,24.625 10.607,26.302 9.981,25.96C9.17,25.516 7.428,23.601 6.843,22.03C6.248,20.431 6.415,17.991 6.408,16.365C6.403,14.995 6.297,13.779 6.847,12.525C7.478,11.088 9.416,8.704 10.294,7.992C10.785,7.594 11.462,8.164 12.071,8.003C12.681,7.842 13.223,7.13 13.851,6.778C14.511,6.41 15.328,5.974 16.03,5.79C16.687,5.617 17.386,5.675 18.065,5.672C18.814,5.669 20.12,5.606 20.524,5.77C20.797,5.88 20.756,6.535 20.486,6.654Z"
                        style={{fillOpacity:0.31}}
                      />
                    </g>
                </g>
            </g>
        </g>
      </svg>
    </label>
  )
}

export default DarkmodeToggle;
